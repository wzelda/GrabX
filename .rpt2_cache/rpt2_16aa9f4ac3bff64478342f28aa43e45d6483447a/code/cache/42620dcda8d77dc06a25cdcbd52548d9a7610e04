{
  "code": "import * as Manager from \"./Manager\";\r\nimport * as Config from \"../Config/Config\";\r\nexport class RoleBase {\r\n    constructor(head, bodySlot, body) {\r\n        this.State = Manager.StateBase.IDEL;\r\n        this.Head = head;\r\n        this.BodySlot = bodySlot;\r\n        this.Body = body;\r\n    }\r\n}\r\nexport class PlayerRole extends RoleBase {\r\n    constructor(head, bodySlot) {\r\n        super(head, bodySlot);\r\n        this.mCurrIndex = 0;\r\n    }\r\n    onAniTempletError() {\r\n        console.error(\"Player aniTemplet error\");\r\n    }\r\n    onBodyAniStop() {\r\n    }\r\n    playBodyAni(loop) {\r\n        loop = null != loop ? loop : true;\r\n        this.Body.play(0, loop);\r\n    }\r\n    parseTempletComplete(callback, thisArg) {\r\n        this.Body = this.mFactory.buildArmature(1);\r\n        this.BodySlot.displayObject.addChild(this.Body);\r\n        this.Body.on(Laya.Event.STOPPED, this, this.onBodyAniStop);\r\n        this.playBodyAni();\r\n        if (callback) {\r\n            callback.call(thisArg);\r\n        }\r\n    }\r\n    setBody(bodyPath, callback, thisArg, ...data) {\r\n        this.mFactory = Manager.PoolManager.getItem(Config.PoolItemKey.DressTemplate, Laya.Templet);\r\n        this.mFactory.on(Laya.Event.COMPLETE, this, this.parseTempletComplete, [callback, thisArg]);\r\n        this.mFactory.on(Laya.Event.ERROR, this, this.onAniTempletError);\r\n        this.mFactory.loadAni(bodyPath);\r\n    }\r\n    setHead(url) {\r\n        this.Head.url = url;\r\n    }\r\n}\r\n",
  "references": [
    "E:/Practise/demo3DLaya/GrabX/src/Manager/Manager.ts",
    "E:/Practise/demo3DLaya/GrabX/src/Config/Config.ts"
  ]
}
